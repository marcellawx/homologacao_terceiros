<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protótipo - Acompanhamento de Homologação</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #F0F0F0;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background-color: #FFF;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        h1 {
            color: #0072C6;
            border-bottom: 2px solid #EEE;
            padding-bottom: 10px;
            margin-top: 0;
            font-size: 24px;
        }
        h2 { font-size: 20px; color: #333; }
        p, .email-body { line-height: 1.7; white-space: pre-wrap; font-family: inherit; font-size: 16px; }
        .stepper { display: flex; justify-content: space-between; margin: 30px 0; position: relative; }
        .step { text-align: center; flex-grow: 1; position: relative; }
        .step-icon {
            width: 30px; height: 30px; border-radius: 50%;
            background-color: #CCC; color: white;
            display: inline-flex; align-items: center; justify-content: center;
            font-weight: bold; border: 3px solid #CCC; transition: all 0.3s ease;
        }
        .step-label { margin-top: 10px; font-size: 14px; color: #888; }
        .step.active .step-icon { background-color: #0072C6; border-color: #0072C6; }
        .step.active .step-label { color: #0072C6; font-weight: bold; }
        .step.completed .step-icon { background-color: #28a745; border-color: #28a745; }
        .step.completed .step-label { color: #28a745; }
        .step.rejected .step-icon { background-color: #dc3545; border-color: #dc3545; }
        .step.rejected .step-label { color: #dc3545; }
        
        .stepper::before {
            content: ''; position: absolute; top: 16px;
            left: 5%; right: 5%; height: 4px;
            background-color: #CCC; z-index: -1;
        }
        .task-card {
            border: 1px solid #DDD; padding: 25px;
            border-radius: 8px; background-color: #FAFAFA;
        }
        .action-buttons { margin-top: 30px; text-align: right; display: flex; justify-content: flex-end; align-items: center; gap: 10px; flex-wrap: wrap;}
        .btn {
            padding: 12px 25px; border: none; border-radius: 5px;
            font-size: 16px; cursor: pointer; text-decoration: none;
            display: inline-block; color: white;
            transition: background-color 0.3s ease;
        }
        .btn-primary { background-color: #0072C6; }
        .btn-primary:hover { background-color: #005a9e; }
        .btn-approve { background-color: #28a745; }
        .btn-approve:hover { background-color: #218838; }
        .btn-reject { background-color: #dc3545; }
        .btn-reject:hover { background-color: #c82333; }
        .email-template { border: 1px solid #EAEAEA; background-color: #FFF; padding: 20px; border-radius: 5px; }
        
        /* Controles de Simulação */
        .simulation-controls {
            max-width: 900px; margin: 20px auto; padding: 15px;
            background-color: #FFF8E1; border: 1px solid #FFECB3;
            border-radius: 8px; text-align: center;
        }
        .simulation-controls p { margin: 0 0 10px 0; font-weight: bold; color: #6D4C41;}
    </style>
</head>
<body>
    <div class="container">
        <h1>Acompanhe sua Homologação</h1>
        
        <div class="stepper">
            <div id="step-1" class="step">
                <div class="step-icon">1</div>
                <div class="step-label">Agendar Reunião</div>
            </div>
            <div id="step-2" class="step">
                <div class="step-icon">2</div>
                <div class="step-label">Análise Interna</div>
            </div>
            <div id="step-3" class="step">
                <div class="step-icon">✓</div>
                <div class="step-label">Resultado</div>
            </div>
        </div>
        
        <div id="task-card-container" class="task-card">
            </div>
    </div>

    <div id="simulation-panel" class="simulation-controls" style="display: none;">
        <p>Controles de Simulação (para apresentação)</p>
        <button class="btn btn-approve" onclick="mostrarResultado('aprovado')">Simular Aprovação</button>
        <button class="btn btn-reject" onclick="mostrarResultado('recusado')">Simular Recusa</button>
    </div>

    <script>
        // Função para atualizar a aparência da barra de progresso (stepper)
        function atualizarStepper(etapa, status = 'active') {
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`step-${i}`).classList.remove('active', 'completed', 'rejected');
            }
            for (let i = 1; i < etapa; i++) {
                 document.getElementById(`step-${i}`).classList.add('completed');
            }
            const etapaAtualEl = document.getElementById(`step-${etapa}`);
            if (etapaAtualEl) etapaAtualEl.classList.add(status);
        }

        // MOSTRA O CONTEÚDO PARA O FORNECEDOR
        function mostrarConteudo(etapa) {
            const container = document.getElementById('task-card-container');
            const sim_panel = document.getElementById('simulation-panel');
            let conteudoHTML = '';
            sim_panel.style.display = 'none'; // Esconde painel de simulação por padrão

            switch (etapa) {
                case 1: // Etapa de Agendamento
                    atualizarStepper(1, 'active');
                    conteudoHTML = `
                        <h2>Olá! Seja bem-vindo(a) ao nosso processo de homologação.</h2>
                        <p>O primeiro passo é um bate-papo para alinharmos os processos internos de alocação, cadastro, pagamentos e a gestão de terceiros. Por favor, utilize o link abaixo para agendar o melhor horário.</p>
                        <div class="email-template">
                            <div class="email-body">Convidamos você e, se desejar, outros membros da área administrativa da sua empresa, para esta conversa.
                            
Aguardamos o seu contato!</div>
                        </div>
                        <div class="action-buttons">
                            <a href="https://calendar.app.google/tTR9o38SeHiqCSdU9" target="_blank" class="btn btn-primary">Agendar Bate-papo</a>
                            <button class="btn btn-approve" onclick="mostrarConteudo(2)">Já agendei, e agora?</button>
                        </div>`;
                    break;
                
                case 2: // Etapa de Aguardo
                    atualizarStepper(2, 'active');
                    sim_panel.style.display = 'block'; // Mostra painel de simulação
                    conteudoHTML = `
                        <h2>Perfeito! Reunião agendada.</h2>
                        <p>Nossa equipe já foi notificada. Após a nossa conversa, faremos uma análise interna e o status do seu processo será atualizado automaticamente aqui neste portal.</p>
                        <p><strong>Status atual:</strong> Aguardando análise interna.</p>
                        `;
                    break;
            }
            container.innerHTML = conteudoHTML;
        }

        function mostrarResultado(resultado) {
            const container = document.getElementById('task-card-container');
            const sim_panel = document.getElementById('simulation-panel');
            sim_panel.style.display = 'none'; // Esconde o painel de simulação
            let conteudoHTML = '';

            if (resultado === 'aprovado') {
                atualizarStepper(3, 'completed');
                document.getElementById('step-2').classList.add('completed');
                conteudoHTML = `
                    <h2>Parabéns! Você foi aprovado na primeira etapa.</h2>
                    <p>Ficamos felizes com o resultado da nossa conversa! O próximo passo será o envio da sua documentação para análise jurídica e fiscal. Em breve, você receberá um novo link para upload dos arquivos.</p>
                    <div class="action-buttons">
                         <button class="btn btn-primary" onclick="mostrarConteudo(1)">Voltar ao Início</button>
                    </div>`;
            } else { // resultado === 'recusado'
                atualizarStepper(3, 'rejected');
                document.getElementById('step-2').classList.add('rejected');
                conteudoHTML = `
                    <h2>Processo de Homologação</h2>
                    <p>Agradecemos o seu tempo e interesse em ser um de nossos parceiros.</p>
                    <p>Após análise interna, informamos que neste momento não daremos continuidade ao seu processo de homologação. Suas informações ficarão em nosso banco de dados para futuras oportunidades.</p>
                     <div class="action-buttons">
                         <button class="btn btn-primary" onclick="mostrarConteudo(1)">Voltar ao Início</button>
                    </div>`;
            }
            container.innerHTML = conteudoHTML;
        }

        // Inicia o protótipo na primeira etapa quando a página carrega
        document.addEventListener('DOMContentLoaded', () => {
            mostrarConteudo(1);
        });
    </script>
</body>
</html>
